import t from"any-event";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)};function n(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function r(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t}var a=void 0===window||"ontouchstart"in window,u="clientX",c="clientY",p="cancel",h="end",l="none",d=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},f=function(t,e){return t.x*e.x+t.y*e.y},v=function(t,e){var n=d(t)*d(e);if(0===n)return 0;var i=f(t,e)/n;return i>1&&(i=1),Math.acos(i)},y=function(t,e){return t.x*e.y-e.x*t.y},m=function(t,e){var n=v(t,e);return y(t,e)>0&&(n*=-1),g(n)},g=function(t){return t/Math.PI*180},T=function(t){var e=t.length,n=t.reduce(function(t,e){return t.x+=e[u],t.y+=e[c],t},{x:0,y:0});return{x:Math.round(n.x/e),y:Math.round(n.y/e)}},x=function(t,e){return t===e?"none":Math.abs(t)>Math.abs(e)?0<t?"right":"left":0<e?"down":"up"},w=Object.freeze({getVLength:d,getDotProduct:f,getRadian:v,getCross:y,getAngle:m,radianToAngle:g,angleToRadian:function(t){return t/180*Math.PI},getCenter:T,getDirection:x}),b=function(){},P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.load=function(t){var e=Array.from(t.touches).map(function(t){return{clientX:t.clientX,clientY:t.clientY}}),n=Array.from(t.changedTouches).map(function(t){return{clientX:t.clientX,clientY:t.clientY}});return{eventType:t.type.replace("touch",""),changedPoints:n,points:e,nativeEvent:t}},e}(b),E=function(t){function e(){var e=t.call(this)||this;return e.isPressed=!1,e}return n(e,t),e.prototype.load=function(t){var e=t.clientX,n=t.clientY,i=t.type,o=t.button,r=this.prevPoints||[{clientX:e,clientY:n}],s=[{clientX:e,clientY:n}];if(this.prevPoints=[{clientX:e,clientY:n}],"mousedown"===i){if(0!==o)return;this.isPressed=!0}if("mousemove"===i){if(!this.isPressed)return}else if("mouseup"===i){if(!this.isPressed)return;s=[],this.isPressed=!1}return{eventType:{mousedown:"start",mousemove:"move",mouseup:"end"}[i],changedPoints:r,points:s,nativeEvent:t}},e}(b),O=function(){function t(){this.adapter=a?new P:new E}return t.prototype.load=function(t){var e=this.adapter.load(t);if(void 0!==e){var n=e.eventType,o=e.points,r=e.changedPoints,s=o.length,a=r.length,u="start"===n,c=h===n||p===n;0<s&&(this._center=T(e.points));var l=Date.now(),d=t.target,f=t.currentTarget,v=this._center||{},y=v.x,m=v.y;return i({},e,{preventDefault:function(){t.preventDefault()},isStart:u,isEnd:c,pointLength:s,changedPointLength:a,center:this._center,x:y,y:m,timestamp:l,target:d,currentTarget:f,nativeEvent:t})}},t}(),L=function(t,e){var n=t.prevInput,i=t.input,o=0,r=0,s=0,a=0,u="none";if(void 0!==i){var c=n||i,l=i.timestamp-c.timestamp;if(-1===[p,h].indexOf(i.eventType)&&(16<l||void 0===e.get("direction"))){var d=i.x-c.x,f=i.y-c.y;s=Math.round(d/l*100)/100,a=Math.round(f/l*100)/100,o=Math.abs(s),r=Math.abs(a),u=x(d,f)||e.get("direction"),e.set({speedX:s}),e.set({speedY:a}),e.set({velocityX:o}),e.set({velocityY:r}),e.set({direction:u})}else s=e.get("speedX",0),a=e.get("speedY",0),o=e.get("velocityX",0),r=e.get("velocityY",0),u=e.get("direction")}return{velocityX:o,velocityY:r,speedX:s,speedY:a,direction:u}},I=function(t,e){var n=t.pointLength;return t.isStart?(n>e.get("maxPointLength",0)&&e.set({maxPointLength:n}),n):e.get("maxPointLength",0)},_=function(t){return{x:t.points[1][u]-t.points[0][u],y:t.points[1][c]-t.points[0][c]}};function A(t,e){var n=t.startMultiInput,i=t.prevInput,o=t.input;if(void 0!==i&&1<i.points.length&&1<o.points.length){var r=_(n),s=_(i),a=_(o),u=function(t){var e=t.startV,n=t.prevV,i=t.activeV,o=d(i)/d(n);return{scale:d(i)/d(e),deltaScale:o}}({startV:r,activeV:a,prevV:s}),c=u.scale,p=u.deltaScale,h=function(t){var e=t.startV,n=t.activeV,i=m(n,t.prevV);return{angle:m(n,e),deltaAngle:i}}({startV:r,prevV:s,activeV:a}),l=h.deltaAngle,f=h.angle;return e.set({angle:f}),e.set({scale:c}),{scale:c,deltaScale:p,deltaAngle:l,angle:f}}return{scale:e.get("scale",1),deltaScale:1,deltaAngle:0,angle:e.get("angle",0)}}var X=function(){function t(t){var e=t.$store;this.inputFactory=new O,this.$store=e}return t.prototype.load=function(t){var e=this.inputFactory.load(t);if(void 0!==e)return function(t,e){var n=t.input,o=function(t,e){var n=t.startInput,i=t.input,o=i.eventType,r=0,s=0;"start"===o?(e.set({displacementX:r}),e.set({displacementY:s})):"move"===o?(r=Math.round(i.points[0][u]-n.points[0][u]),s=Math.round(i.points[0][c]-n.points[0][c]),e.set({displacementX:r}),e.set({displacementY:s})):"end"===o&&(r=e.get("displacementX",0),s=e.get("displacementY",0));var a=Math.abs(r),p=Math.abs(s);return{displacementX:r,displacementY:s,distanceX:a,distanceY:p,distance:Math.round(d({x:a,y:p})),overallDirection:x(r,s)}}(t,e),r=o.displacementX,s=o.displacementY,a=o.distanceX,p=o.distanceY,h=o.distance,l=o.overallDirection,f=t.input.timestamp-t.startInput.timestamp,v=L(t,e),y=v.velocityX,m=v.velocityY,T=v.speedX,w=v.speedY,b=v.direction,P=function(t,e){var n,i,o=t.prevInput,r=t.input,s=0;if(void 0===o?(n=0,i=0):(n=r.x-o.x,i=r.y-o.y),0!==n||0!==i){var a=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));s=Math.round(g(Math.acos(Math.abs(n)/a))),e.set({deltaXYAngle:s})}else s=e.get("deltaXYAngle",0);return{deltaX:n,deltaY:i,deltaXYAngle:s}}(t,e),E=P.deltaX,O=P.deltaY,_=P.deltaXYAngle,X=A(t,e),Y=X.scale,z=X.deltaScale,S=X.angle,R=X.deltaAngle,D=I(n,e);return i({type:""},n,{velocityX:y,velocityY:m,speedX:T,speedY:w,deltaTime:f,overallDirection:l,direction:b,deltaX:E,deltaY:O,deltaXYAngle:_,displacementX:r,displacementY:s,distanceX:a,distanceY:p,distance:h,scale:Y,deltaScale:z,angle:S,deltaAngle:R,maxPointLength:D})}(this._record(e),this.$store)},t.prototype._record=function(t){var e=t.eventType;return this.prevInput=this.activeInput,"start"===e&&(t.isStart&&(this.startInput=t),1<t.pointLength?this.startMultiInput=t:this.startMultiInput=void 0),this.activeInput=t,{startMultiInput:this.startMultiInput,startInput:this.startInput,prevInput:this.prevInput,input:t}},t}(),Y=function(){function t(){this.store={}}return t.prototype.set=function(t){this.store=i({},this.store,t)},t.prototype.get=function(t,e){return this.store[t]||e},t.prototype.reset=function(){this.store={}},t.prototype.destroy=function(){this.reset()},t}(),z="possible",S="start",R="move",D="end",M="cancel",F="failed",V="recognized",$=function(){function t(t){this.options=i({},this.constructor.DEFAULT_OPTIONS,{disabled:!1},t),this.name=this.options.name,this.disabled=this.options.disabled,this.status=z,this.isRecognized=!1,this.requireFailureRecognizers=[],this.isWaitingOther=!1}return t.prototype.set=function(t){return void 0===t&&(t={}),this.options=i({},this.options,t),this.$root.update(),this},t.prototype.$injectRoot=function(t){return this.$root=t,this},t.prototype.emit=function(t,e){if(e.type=t,this.$root.eventEmitter.emit(t,e),void 0!==this.$root.el&&(this.$root.options.syncToAttr&&this.$root.el.setAttribute("at-gesture",t),this.$root.options.hasDomEvents)){e.target,e.currentTarget;var n=e.type,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(e,["target","currentTarget","type"]),o=new Event(n,e);Object.assign(o,i),this.$root.el.dispatchEvent(o)}},t.prototype.requireFailure=function(t){this.requireFailureRecognizers.includes(t)||this.requireFailureRecognizers.push(t)},t.prototype.removeRequireFailure=function(t){var e,n;try{for(var i=o(this.requireFailureRecognizers.entries()),s=i.next();!s.done;s=i.next()){var a=r(s.value,2),u=a[0];if(a[1].name===t.name){this.requireFailureRecognizers.splice(u,1);break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.hasRequireFailure=function(){return 0<this.requireFailureRecognizers.length},t.prototype.isAllRequireFailureRecognizersDisabled=function(){return this.requireFailureRecognizers.every(function(t){return t.disabled})},t.prototype.isAllRequiresFailedOrPossible=function(){var t,e;try{for(var n=o(this.requireFailureRecognizers),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.isWaitingOther)return!1;if(F!==r.status&&z!==r.status)return!1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!0},t.prototype.isValidPointLength=function(t){return 0===this.options.pointLength||this.options.pointLength===t},t.prototype.isOnlyHorizontal=function(){var t,e,n=!0;try{for(var i=o(this.options.directions),r=i.next();!r.done;r=i.next()){var s=r.value;if(!(n=-1<["left","right"].indexOf(s)))return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.isOnlyVertical=function(){var t,e,n=!0;try{for(var i=o(this.options.directions),r=i.next();!r.done;r=i.next()){var s=r.value;if(!(n=-1<["up","down"].indexOf(s)))return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.isVaildDirection=function(t){return-1!==this.options.directions.indexOf(t)||"none"===t},t.prototype.flow=function(t,e,n){var i,o,r,s,a,u,c,l={1:(i={},i[z]=(o={},o.move=S,o[h]=V,o[p]=M,o),i[S]=(r={},r.move=R,r[h]=D,r[p]=M,r),i[R]=(s={},s.move=R,s[h]=D,s),i),0:(a={},a[S]=(u={},u.move=M,u[h]=D,u[p]=M,u),a[R]=(c={},c.move=M,c[h]=D,c[p]=M,c),a)};return void 0!==l[Number(t)][e]&&l[Number(t)][e][n]||e},t.prototype._resetStatus=function(){-1!==[D,M,V,F].indexOf(this.status)&&(this.status=z)},t.prototype.recognize=function(t){var e=this.test(t);this._resetStatus();var n=t.eventType;this.status=this.flow(e,this.status,n),M!==this.status?(this.isRecognized=-1<[S,R,D,V].indexOf(this.status),e?(this.afterRecognized(t),this.emit(this.options.name,t),this.emit(this.options.name+this.status,t),this.afterEmit(t)):this.isRecognized&&this.emit(this.options.name+this.status,t)):this.emit(this.options.name+"cancel",t)},t.prototype.afterRecognized=function(t){},t.prototype.afterEmit=function(t){},t}(),j=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.tapCount=0,n}return n(e,t),e.prototype.getTouchAction=function(){return 1<this.options.tapTimes?["manipulation"]:["auto"]},e.prototype._isValidDistanceFromPrevTap=function(t){if(void 0!==this.prevTapPoint){var e=d({x:t.x-this.prevTapPoint.x,y:t.y-this.prevTapPoint.y});return this.prevTapPoint=t,this.options.tapsPositionTolerance>=e}return this.prevTapPoint=t,!0},e.prototype._isValidInterval=function(){var t=Date.now();if(void 0===this.prevTapTime)return this.prevTapTime=t,!0;var e=t-this.prevTapTime;return this.prevTapTime=t,e<this.options.waitNextTapTime},e.prototype.recognize=function(t){var e=this;h===t.eventType&&(this.status=z,this.test(t)?(clearTimeout(this._delayFailTimer),clearTimeout(this._waitOtherFailedTimer),this.isWaitingOther=!1,this._isValidDistanceFromPrevTap(t)&&this._isValidInterval()?this.tapCount++:this.tapCount=1,0==this.tapCount%this.options.tapTimes?this.hasRequireFailure()&&!this.isAllRequireFailureRecognizersDisabled()?(this.isWaitingOther=!0,this._waitOtherFailedTimer=setTimeout(function(){e.isAllRequiresFailedOrPossible()?(e.status=V,e.emit(e.options.name,i({},t,{tapCount:e.tapCount}))):e.status=F,e.isWaitingOther=!1},this.options.waitNextTapTime)):(this.status=V,this.emit(this.options.name,i({},t,{tapCount:this.tapCount})),this.reset()):this._delayFailTimer=setTimeout(function(){e.status=F,e.reset()},this.options.waitNextTapTime)):(this.reset(),this.status=F))},e.prototype.reset=function(){this.tapCount=0,this.prevTapPoint=void 0,this.prevTapTime=void 0},e.prototype.test=function(t){var e=t.distance,n=t.deltaTime;return t.maxPointLength===this.options.pointLength&&this.options.positionTolerance>=e&&this.options.maxPressTime>n},e.prototype.afterEmit=function(t){},e.DEFAULT_OPTIONS={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,disabled:!1,positionTolerance:2,tapsPositionTolerance:9,maxPressTime:250},e}($),q=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return n(e,t),e.prototype.getTouchAction=function(){return["auto"]},e.prototype.recognize=function(t){var e=this,n=t.eventType,i=t.deltaTime;"start"===n&&this.test(t)?(this._resetStatus(),this.cancel(),this._timeoutId=setTimeout(function(){e.status=V,e.emit(e.options.name,t)},this.options.minPressTime)):h===n&&V===this.status?this.emit(this.options.name+"up",t):(!this.test(t)||this.options.minPressTime>i&&-1!==[h,p].indexOf(n))&&(this.cancel(),this.status=F)},e.prototype.test=function(t){var e=t.distance,n=t.pointLength;return this.options.positionTolerance>e&&this.isValidPointLength(n)},e.prototype.cancel=function(){clearTimeout(this._timeoutId)},e.prototype.afterEmit=function(){},e.DEFAULT_OPTIONS={name:"press",pointLength:1,positionTolerance:9,minPressTime:251},e}($),k=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return n(e,t),e.prototype.getTouchAction=function(){var t=["auto"],e=function(t){var e,n,i=!1,r=!1;try{for(var s=o(t),a=s.next();!a.done;a=s.next()){var u=a.value;if(-1<["left","right"].indexOf(u)){if(i=!0,r)break}else{if(!(-1<["up","down"].indexOf(u)))throw new Error("wrong direction!");if(r=!0,i)break}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{hasHorizontal:i,hasVertical:r}}(this.options.directions),n=e.hasHorizontal,i=e.hasVertical;return n&&i?t=["none"]:!n&&i?t=["pan-x"]:!i&&n&&(t=["pan-y"]),t},e.prototype.test=function(t){var e=t.distance,n=t.direction,i=t.eventType,o=t.pointLength;return"move"===i&&(this.isRecognized||this.options.threshold<e)&&this.isValidPointLength(o)&&this.isVaildDirection(n)},e.prototype.afterEmit=function(t){"none"!==t.direction&&this.emit(this.options.name+t.direction,t)},e.prototype.afterRecognized=function(t){this.lockDirection(t)},e.prototype.lockDirection=function(t){if(void 0===this.options.directions||0===this.options.directions.length)return t;var e=0,n=0;return this.options.directions.forEach(function(i){"left"===i&&0>t.deltaX?e=t.deltaX:"right"===i&&0<t.deltaX?e=t.deltaX:"down"===i&&0<t.deltaY?n=t.deltaY:"up"===i&&0>t.deltaY&&(n=t.deltaY)}),t.deltaX=e,t.deltaY=n,t},e.DEFAULT_OPTIONS={name:"pan",threshold:10,pointLength:1,directions:["up","right","down","left"]},e}($),C=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return n(e,t),e.prototype.getTouchAction=function(){return["none"]},e.prototype.afterEmit=function(t){"none"!==t.direction&&this.emit(this.options.name+t.direction,t)},e.prototype.test=function(t){if(h!==t.eventType)return!1;var e=t.direction,n=t.velocityX,i=t.velocityY,o=t.maxPointLength,r=t.distance,s=n,a=i;this.isOnlyHorizontal()?a=0:this.isOnlyVertical()&&(s=0);var u=Math.sqrt(s*s+a*a);return 1===o&&this.options.threshold<r&&this.isVaildDirection(e)&&this.options.velocity<u},e.DEFAULT_OPTIONS={name:"swipe",threshold:10,velocity:.3,pointLength:1,directions:["up","right","down","left"]},e}($),N=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._prevScale=1,n}return n(e,t),e.prototype.getTouchAction=function(){return["none"]},e.prototype.afterEmit=function(t){if("end"!==t.eventType){var e=t.scale;if(1!==e){var n=e>this._prevScale?"out":"in";this.emit(this.options.name+n,t)}this._prevScale=e}},e.prototype.test=function(t){var e=t.pointLength,n=t.scale;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(n-1)||this.isRecognized)},e.DEFAULT_OPTIONS={name:"pinch",threshold:0,pointLength:2},e}($),B=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return n(e,t),e.prototype.getTouchAction=function(){return["none"]},e.prototype.afterEmit=function(t){},e.prototype.test=function(t){var e=t.pointLength,n=t.angle;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(n)||this.isRecognized)},e.DEFAULT_OPTIONS={name:"rotate",threshold:0,pointLength:2},e}($),U=function(){function e(e,n){this.default={touchAction:"compute",hasDomEvents:!0,isPreventDefault:!0,syncToAttr:!1,cssPrevent:{selectText:!0,drag:!0,tapHighlight:!0,callout:!0}},void 0!==e&&(this.el=e),this.$store=new Y,this.inputManage=new X({$store:this.$store}),this.touchDevice=a?"touch":"mouse",this.options=i({},this.default,n),this.eventEmitter=new t,this._isStopped=!1,this.recognizers=[(new B).$injectRoot(this),(new N).$injectRoot(this),(new k).$injectRoot(this),(new C).$injectRoot(this),(new j).$injectRoot(this),new j({name:"doubletap",pointLength:1,tapTimes:2,disabled:!0}).$injectRoot(this),(new q).$injectRoot(this)],this.recognizers[4].requireFailure(this.recognizers[5]),void 0!==this.el&&(this.update(),this._unbindEl=this._bindEL(this.el)._unbindEl)}return e.prototype.updateTouchAction=function(){var t,e;if("compute"===this.options.touchAction){var n=[];try{for(var i=o(this.recognizers),r=i.next();!r.done;r=i.next()){var a=r.value;n.push.apply(n,s(a.getTouchAction()))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.el.style.touchAction=function(t){var e,n,i={auto:0,manipulation:1,"pan-x":2,"pan-y":2,none:3},r=i.none,s=["auto"],a=0;try{for(var u=o(t),c=u.next();!c.done;c=u.next()){var p=c.value,h=i[p];if(r===h){s=[p];break}a<h?(s=[p],a=h):a===h&&0<h&&(s.push(p),a=h)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s.join(" ")}(n)}else this.el.style.touchAction=this.options.touchAction||"auto"},e.prototype.updateCssPrevent=function(){var t={},e=this.options.cssPrevent;if(void 0!==e)for(var n in e.selectText&&(t.mozUserSelect=l,t.userSelect=l,t.msUserSelect=l,t.webkitUserSelect=l,t.msTouchSelect=l),e.drag&&(t.webkitUserDrag=l),e.tapHighlight&&(t.webkitTapHighlightColor="rgba(0,0,0,0)"),e.callout&&(t.webkitTouchCallout=l),t)this.el.style[n]=t[n]},e.prototype.update=function(){void 0!==this.el&&(this.updateTouchAction(),this.updateCssPrevent())},e.prototype._bindEL=function(t){var e=this.inputListener.bind(this);if("touch"===this.touchDevice){var n=["touchstart","touchmove","touchend","touchcancel"];return n.forEach(function(n){t.addEventListener(n,e)}),{_unbindEl:function(){n.forEach(function(n){t.removeEventListener(n,e)})}}}return t.addEventListener("mousedown",e),window.addEventListener("mousemove",e),window.addEventListener("mouseup",e),{_unbindEl:function(){t.removeEventListener("mousedown",e),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",e)}}},e.prototype.useEvent=function(t){this.inputListener(t)},e.prototype.add=function(t){t.$injectRoot(this),this.recognizers.some(function(e){return t.name===e.name})?this.eventEmitter.emit("error",{code:1,message:t.name+"识别器已经存在!"}):(this.recognizers.push(t),this.update())},e.prototype.get=function(t){return this.recognizers.find(function(e){return t===e.options.name})},e.prototype.set=function(t){this.options=i({},this.default,t),this.update()},e.prototype.stop=function(){this._isStopped=!0},e.prototype.remove=function(t){var e,n;try{for(var i=o(this.recognizers.entries()),s=i.next();!s.done;s=i.next()){var a=r(s.value,2),u=a[0];if(t===a[1].options.name){this.recognizers.splice(u,1);break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.inputListener=function(t){var e,n;this.options.isPreventDefault&&t.preventDefault();var i=this.inputManage.load(t);if(void 0!==i){this.emit("input",i),i.isStart&&(this._isStopped=!1);try{for(var r=o(this.recognizers),s=r.next();!s.done;s=r.next()){var a=s.value;if(!a.disabled&&(a.recognize(i),this._isStopped))break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},e.prototype.on=function(t,e,n){void 0===n&&(n=!1),this.eventEmitter.on(t,e)},e.prototype.off=function(t,e){this.eventEmitter.off(t,e)},e.prototype.emit=function(t,e){this.eventEmitter.emit(t,i({},e,{type:t}))},e.prototype._unbindEl=function(){},e.prototype.destroy=function(){this.$store.destroy(),this.el&&this._unbindEl(),this.eventEmitter.destroy()},e.Tap=j,e.Press=q,e.Pan=k,e.Swipe=C,e.Pinch=N,e.Rotate=B,e.version="0.4.6",e.Vector=w,e.EventEmitter=t,e}(),H=new(function(){function t(t){this.stock=[],this.stock=[],this.ClassObject=t}return t.prototype.getIndexByEl=function(t){for(var e=0,n=this.stock.length;e<n;e++)if(t===this.stock[e].el)return e;return-1},t.prototype.getInstanceByIndex=function(t){return this.stock[t].instance},t.prototype.removeInstanceByIndex=function(t){this.stock.splice(t,1)},t.prototype.getOrCreateInstanceByEl=function(t){var e=this.getIndexByEl(t);if(-1===e){var n=new this.ClassObject(t);return this.stock.push({el:t,instance:n}),n}return this.getInstanceByIndex(e)},t}())(U),W={install:function(t){var e=function(t,e){var n=H.getOrCreateInstanceByEl(t);void 0!==e.value&&e.value(n)};t.directive("touch",{inserted:function(t,n){e(t,n)},update:function(t,n){e(t,n)},unbind:function(t){!function(t){var e=H.getIndexByEl(t);-1!==e&&void 0!==H.getInstanceByIndex(e)&&(H.getInstanceByIndex(e).destroy(),H.removeInstanceByIndex(e))}(t)}})}},G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.vTouch=W,e}(U);export default G;
//# sourceMappingURL=AnyTouch.es.min.js.map
