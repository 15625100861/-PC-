!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.AnyTouch=e()}(this,function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function r(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}function s(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var c=function(){function t(){this._listenersMap={}}return t.prototype.on=function(t,e){return void 0===this._listenersMap[t]&&(this._listenersMap[t]=[]),this._listenersMap[t].push(e),this},t.prototype.once=function(t,e){return e.isOnce=!0,this.on(t,e),this},t.prototype.off=function(t,e){var n=this._listenersMap[t];if(void 0!==n)if(void 0===e)delete this._listenersMap[t];else{var i=n.findIndex(function(t){return t===e});n.splice(i,1)}return this},t.prototype.emit=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var r=this._listenersMap[t];if(void 0!==r&&0<r.length){try{for(var c=s(r.entries()),p=c.next();!p.done;p=c.next()){var l=a(p.value,2),h=l[0],d=l[1];if(d.isOnce){var f=d;r.splice(h,1),f.apply(void 0,u(i))}else d.apply(void 0,u(i))}}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!1},t.prototype.has=function(t){return void 0!==this._listenersMap[t]&&0<this._listenersMap[t].length},t.prototype.getEventNames=function(){var t=[];for(var e in this._listenersMap)t.push(e);return t},t.prototype.eventNames=function(){return this.getEventNames()},t.prototype.destroy=function(){this._listenersMap={}},t}(),p=void 0===window||"ontouchstart"in window,l="clientX",h="clientY",d="cancel",f="end",v="none",y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},m=function(t,e){return t.x*e.x+t.y*e.y},g=function(t,e){var n=y(t)*y(e);if(0===n)return 0;var i=m(t,e)/n;return i>1&&(i=1),Math.acos(i)},T=function(t,e){return t.x*e.y-e.x*t.y},x=function(t,e){var n=g(t,e);return T(t,e)>0&&(n*=-1),w(n)},w=function(t){return t/Math.PI*180},b=function(t){var e=t.length,n=t.reduce(function(t,e){return t.x+=e[l],t.y+=e[h],t},{x:0,y:0});return{x:Math.round(n.x/e),y:Math.round(n.y/e)}},P=function(t,e){return t===e?"none":Math.abs(t)>Math.abs(e)?0<t?"right":"left":0<e?"down":"up"},E=Object.freeze({getVLength:y,getDotProduct:m,getRadian:g,getCross:T,getAngle:x,radianToAngle:w,angleToRadian:function(t){return t/180*Math.PI},getCenter:b,getDirection:P}),O=function(){},_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.load=function(t){var e=Array.from(t.touches).map(function(t){return{clientX:t.clientX,clientY:t.clientY}}),n=Array.from(t.changedTouches).map(function(t){return{clientX:t.clientX,clientY:t.clientY}});return{eventType:t.type.replace("touch",""),changedPoints:n,points:e,nativeEvent:t}},n}(O),I=function(t){function n(){var e=t.call(this)||this;return e.isPressed=!1,e}return e(n,t),n.prototype.load=function(t){var e=t.clientX,n=t.clientY,i=t.type,o=t.button,r=this.prevPoints||[{clientX:e,clientY:n}],s=[{clientX:e,clientY:n}];if(this.prevPoints=[{clientX:e,clientY:n}],"mousedown"===i){if(0!==o)return;this.isPressed=!0}if("mousemove"===i){if(!this.isPressed)return}else if("mouseup"===i){if(!this.isPressed)return;s=[],this.isPressed=!1}return{eventType:{mousedown:"start",mousemove:"move",mouseup:"end"}[i],changedPoints:r,points:s,nativeEvent:t}},n}(O),L=function(){function t(){this.adapter=p?new _:new I}return t.prototype.load=function(t){var e=this.adapter.load(t);if(void 0!==e){var i=e.eventType,o=e.points,r=e.changedPoints,s=o.length,a=r.length,u="start"===i,c=f===i||d===i;0<s&&(this._center=b(e.points));var p=Date.now(),l=t.target,h=t.currentTarget,v=this._center||{},y=v.x,m=v.y;return n({},e,{preventDefault:function(){t.preventDefault()},isStart:u,isEnd:c,pointLength:s,changedPointLength:a,center:this._center,x:y,y:m,timestamp:p,target:l,currentTarget:h,nativeEvent:t})}},t}(),A=function(t,e){var n=t.prevInput,i=t.input,o=0,r=0,s=0,a=0,u="none";if(void 0!==i){var c=n||i,p=i.timestamp-c.timestamp;if(-1===[d,f].indexOf(i.eventType)&&(16<p||void 0===e.get("direction"))){var l=i.x-c.x,h=i.y-c.y;s=Math.round(l/p*100)/100,a=Math.round(h/p*100)/100,o=Math.abs(s),r=Math.abs(a),u=P(l,h)||e.get("direction"),e.set({speedX:s}),e.set({speedY:a}),e.set({velocityX:o}),e.set({velocityY:r}),e.set({direction:u})}else s=e.get("speedX",0),a=e.get("speedY",0),o=e.get("velocityX",0),r=e.get("velocityY",0),u=e.get("direction")}return{velocityX:o,velocityY:r,speedX:s,speedY:a,direction:u}},M=function(t,e){var n=t.pointLength;return t.isStart?(n>e.get("maxPointLength",0)&&e.set({maxPointLength:n}),n):e.get("maxPointLength",0)},S=function(t){return{x:t.points[1][l]-t.points[0][l],y:t.points[1][h]-t.points[0][h]}};function X(t,e){var n=t.startMultiInput,i=t.prevInput,o=t.input;if(void 0!==i&&1<i.points.length&&1<o.points.length){var r=S(n),s=S(i),a=S(o),u=function(t){var e=t.startV,n=t.prevV,i=t.activeV,o=y(i)/y(n);return{scale:y(i)/y(e),deltaScale:o}}({startV:r,activeV:a,prevV:s}),c=u.scale,p=u.deltaScale,l=function(t){var e=t.startV,n=t.activeV,i=x(n,t.prevV);return{angle:x(n,e),deltaAngle:i}}({startV:r,prevV:s,activeV:a}),h=l.deltaAngle,d=l.angle;return e.set({angle:d}),e.set({scale:c}),{scale:c,deltaScale:p,deltaAngle:h,angle:d}}return{scale:e.get("scale",1),deltaScale:1,deltaAngle:0,angle:e.get("angle",0)}}var Y=function(){function t(t){var e=t.$store;this.inputFactory=new L,this.$store=e}return t.prototype.load=function(t){var e=this.inputFactory.load(t);if(void 0!==e)return function(t,e){var i=t.input,o=function(t,e){var n=t.startInput,i=t.input,o=i.eventType,r=0,s=0;"start"===o?(e.set({displacementX:r}),e.set({displacementY:s})):"move"===o?(r=Math.round(i.points[0][l]-n.points[0][l]),s=Math.round(i.points[0][h]-n.points[0][h]),e.set({displacementX:r}),e.set({displacementY:s})):"end"===o&&(r=e.get("displacementX",0),s=e.get("displacementY",0));var a=Math.abs(r),u=Math.abs(s);return{displacementX:r,displacementY:s,distanceX:a,distanceY:u,distance:Math.round(y({x:a,y:u})),overallDirection:P(r,s)}}(t,e),r=o.displacementX,s=o.displacementY,a=o.distanceX,u=o.distanceY,c=o.distance,p=o.overallDirection,d=t.input.timestamp-t.startInput.timestamp,f=A(t,e),v=f.velocityX,m=f.velocityY,g=f.speedX,T=f.speedY,x=f.direction,b=function(t,e){var n,i,o=t.prevInput,r=t.input,s=0;if(void 0===o?(n=0,i=0):(n=r.x-o.x,i=r.y-o.y),0!==n||0!==i){var a=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));s=Math.round(w(Math.acos(Math.abs(n)/a))),e.set({deltaXYAngle:s})}else s=e.get("deltaXYAngle",0);return{deltaX:n,deltaY:i,deltaXYAngle:s}}(t,e),E=b.deltaX,O=b.deltaY,_=b.deltaXYAngle,I=X(t,e),L=I.scale,S=I.deltaScale,Y=I.angle,z=I.deltaAngle,R=M(i,e);return n({type:""},i,{velocityX:v,velocityY:m,speedX:g,speedY:T,deltaTime:d,overallDirection:p,direction:x,deltaX:E,deltaY:O,deltaXYAngle:_,displacementX:r,displacementY:s,distanceX:a,distanceY:u,distance:c,scale:L,deltaScale:S,angle:Y,deltaAngle:z,maxPointLength:R})}(this._record(e),this.$store)},t.prototype._record=function(t){var e=t.eventType;return this.prevInput=this.activeInput,"start"===e&&(t.isStart&&(this.startInput=t),1<t.pointLength?this.startMultiInput=t:this.startMultiInput=void 0),this.activeInput=t,{startMultiInput:this.startMultiInput,startInput:this.startInput,prevInput:this.prevInput,input:t}},t}(),z=function(){function t(){this.store={}}return t.prototype.set=function(t){this.store=n({},this.store,t)},t.prototype.get=function(t,e){return this.store[t]||e},t.prototype.reset=function(){this.store={}},t.prototype.destroy=function(){this.reset()},t}(),R="possible",D="start",F="move",V="end",$="cancel",j="failed",q="recognized",k=function(){function t(t){this.options=n({},this.constructor.DEFAULT_OPTIONS,{disabled:!1},t),this.name=this.options.name,this.disabled=this.options.disabled,this.status=R,this.isRecognized=!1,this.requireFailureRecognizers=[],this.isWaitingOther=!1}return t.prototype.set=function(t){return void 0===t&&(t={}),this.options=n({},this.options,t),this.$root.update(),this},t.prototype.$injectRoot=function(t){return this.$root=t,this},t.prototype.emit=function(t,e){if(e.type=t,this.$root.eventEmitter.emit(t,e),void 0!==this.$root.el&&(this.$root.options.syncToAttr&&this.$root.el.setAttribute("at-gesture",t),this.$root.options.hasDomEvents)){e.target,e.currentTarget;var n=e.type,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(e,["target","currentTarget","type"]),o=new Event(n,e);Object.assign(o,i),this.$root.el.dispatchEvent(o)}},t.prototype.requireFailure=function(t){this.requireFailureRecognizers.includes(t)||this.requireFailureRecognizers.push(t)},t.prototype.removeRequireFailure=function(t){var e,n;try{for(var r=i(this.requireFailureRecognizers.entries()),s=r.next();!s.done;s=r.next()){var a=o(s.value,2),u=a[0];if(a[1].name===t.name){this.requireFailureRecognizers.splice(u,1);break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.hasRequireFailure=function(){return 0<this.requireFailureRecognizers.length},t.prototype.isAllRequireFailureRecognizersDisabled=function(){return this.requireFailureRecognizers.every(function(t){return t.disabled})},t.prototype.isAllRequiresFailedOrPossible=function(){var t,e;try{for(var n=i(this.requireFailureRecognizers),o=n.next();!o.done;o=n.next()){var r=o.value;if(r.isWaitingOther)return!1;if(j!==r.status&&R!==r.status)return!1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!0},t.prototype.isValidPointLength=function(t){return 0===this.options.pointLength||this.options.pointLength===t},t.prototype.isOnlyHorizontal=function(){var t,e,n=!0;try{for(var o=i(this.options.directions),r=o.next();!r.done;r=o.next()){var s=r.value;if(!(n=-1<["left","right"].indexOf(s)))return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n},t.prototype.isOnlyVertical=function(){var t,e,n=!0;try{for(var o=i(this.options.directions),r=o.next();!r.done;r=o.next()){var s=r.value;if(!(n=-1<["up","down"].indexOf(s)))return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n},t.prototype.isVaildDirection=function(t){return-1!==this.options.directions.indexOf(t)||"none"===t},t.prototype.flow=function(t,e,n){var i,o,r,s,a,u,c,p={1:(i={},i[R]=(o={},o.move=D,o[f]=q,o[d]=$,o),i[D]=(r={},r.move=F,r[f]=V,r[d]=$,r),i[F]=(s={},s.move=F,s[f]=V,s),i),0:(a={},a[D]=(u={},u.move=$,u[f]=V,u[d]=$,u),a[F]=(c={},c.move=$,c[f]=V,c[d]=$,c),a)};return void 0!==p[Number(t)][e]&&p[Number(t)][e][n]||e},t.prototype._resetStatus=function(){-1!==[V,$,q,j].indexOf(this.status)&&(this.status=R)},t.prototype.recognize=function(t){var e=this.test(t);this._resetStatus();var n=t.eventType;this.status=this.flow(e,this.status,n),$!==this.status?(this.isRecognized=-1<[D,F,V,q].indexOf(this.status),e?(this.afterRecognized(t),this.emit(this.options.name,t),this.emit(this.options.name+this.status,t),this.afterEmit(t)):this.isRecognized&&this.emit(this.options.name+this.status,t)):this.emit(this.options.name+"cancel",t)},t.prototype.afterRecognized=function(t){},t.prototype.afterEmit=function(t){},t}(),C=function(t){function i(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.tapCount=0,n}return e(i,t),i.prototype.getTouchAction=function(){return 1<this.options.tapTimes?["manipulation"]:["auto"]},i.prototype._isValidDistanceFromPrevTap=function(t){if(void 0!==this.prevTapPoint){var e=y({x:t.x-this.prevTapPoint.x,y:t.y-this.prevTapPoint.y});return this.prevTapPoint=t,this.options.tapsPositionTolerance>=e}return this.prevTapPoint=t,!0},i.prototype._isValidInterval=function(){var t=Date.now();if(void 0===this.prevTapTime)return this.prevTapTime=t,!0;var e=t-this.prevTapTime;return this.prevTapTime=t,e<this.options.waitNextTapTime},i.prototype.recognize=function(t){var e=this;f===t.eventType&&(this.status=R,this.test(t)?(clearTimeout(this._delayFailTimer),clearTimeout(this._waitOtherFailedTimer),this.isWaitingOther=!1,this._isValidDistanceFromPrevTap(t)&&this._isValidInterval()?this.tapCount++:this.tapCount=1,0==this.tapCount%this.options.tapTimes?this.hasRequireFailure()&&!this.isAllRequireFailureRecognizersDisabled()?(this.isWaitingOther=!0,this._waitOtherFailedTimer=setTimeout(function(){e.isAllRequiresFailedOrPossible()?(e.status=q,e.emit(e.options.name,n({},t,{tapCount:e.tapCount}))):e.status=j,e.isWaitingOther=!1},this.options.waitNextTapTime)):(this.status=q,this.emit(this.options.name,n({},t,{tapCount:this.tapCount})),this.reset()):this._delayFailTimer=setTimeout(function(){e.status=j,e.reset()},this.options.waitNextTapTime)):(this.reset(),this.status=j))},i.prototype.reset=function(){this.tapCount=0,this.prevTapPoint=void 0,this.prevTapTime=void 0},i.prototype.test=function(t){var e=t.distance,n=t.deltaTime;return t.maxPointLength===this.options.pointLength&&this.options.positionTolerance>=e&&this.options.maxPressTime>n},i.prototype.afterEmit=function(t){},i.DEFAULT_OPTIONS={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,disabled:!1,positionTolerance:2,tapsPositionTolerance:9,maxPressTime:250},i}(k),N=function(t){function n(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(n,t),n.prototype.getTouchAction=function(){return["auto"]},n.prototype.recognize=function(t){var e=this,n=t.eventType,i=t.deltaTime;"start"===n&&this.test(t)?(this._resetStatus(),this.cancel(),this._timeoutId=setTimeout(function(){e.status=q,e.emit(e.options.name,t)},this.options.minPressTime)):f===n&&q===this.status?this.emit(this.options.name+"up",t):(!this.test(t)||this.options.minPressTime>i&&-1!==[f,d].indexOf(n))&&(this.cancel(),this.status=j)},n.prototype.test=function(t){var e=t.distance,n=t.pointLength;return this.options.positionTolerance>e&&this.isValidPointLength(n)},n.prototype.cancel=function(){clearTimeout(this._timeoutId)},n.prototype.afterEmit=function(){},n.DEFAULT_OPTIONS={name:"press",pointLength:1,positionTolerance:9,minPressTime:251},n}(k),B=function(t){function n(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(n,t),n.prototype.getTouchAction=function(){var t=["auto"],e=function(t){var e,n,o=!1,r=!1;try{for(var s=i(t),a=s.next();!a.done;a=s.next()){var u=a.value;if(-1<["left","right"].indexOf(u)){if(o=!0,r)break}else{if(!(-1<["up","down"].indexOf(u)))throw new Error("wrong direction!");if(r=!0,o)break}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{hasHorizontal:o,hasVertical:r}}(this.options.directions),n=e.hasHorizontal,o=e.hasVertical;return n&&o?t=["none"]:!n&&o?t=["pan-x"]:!o&&n&&(t=["pan-y"]),t},n.prototype.test=function(t){var e=t.distance,n=t.direction,i=t.eventType,o=t.pointLength;return"move"===i&&(this.isRecognized||this.options.threshold<e)&&this.isValidPointLength(o)&&this.isVaildDirection(n)},n.prototype.afterEmit=function(t){"none"!==t.direction&&this.emit(this.options.name+t.direction,t)},n.prototype.afterRecognized=function(t){this.lockDirection(t)},n.prototype.lockDirection=function(t){if(void 0===this.options.directions||0===this.options.directions.length)return t;var e=0,n=0;return this.options.directions.forEach(function(i){"left"===i&&0>t.deltaX?e=t.deltaX:"right"===i&&0<t.deltaX?e=t.deltaX:"down"===i&&0<t.deltaY?n=t.deltaY:"up"===i&&0>t.deltaY&&(n=t.deltaY)}),t.deltaX=e,t.deltaY=n,t},n.DEFAULT_OPTIONS={name:"pan",threshold:10,pointLength:1,directions:["up","right","down","left"]},n}(k),U=function(t){function n(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(n,t),n.prototype.getTouchAction=function(){return["none"]},n.prototype.afterEmit=function(t){"none"!==t.direction&&this.emit(this.options.name+t.direction,t)},n.prototype.test=function(t){if(f!==t.eventType)return!1;var e=t.direction,n=t.velocityX,i=t.velocityY,o=t.maxPointLength,r=t.distance,s=n,a=i;this.isOnlyHorizontal()?a=0:this.isOnlyVertical()&&(s=0);var u=Math.sqrt(s*s+a*a);return 1===o&&this.options.threshold<r&&this.isVaildDirection(e)&&this.options.velocity<u},n.DEFAULT_OPTIONS={name:"swipe",threshold:10,velocity:.3,pointLength:1,directions:["up","right","down","left"]},n}(k),H=function(t){function n(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._prevScale=1,n}return e(n,t),n.prototype.getTouchAction=function(){return["none"]},n.prototype.afterEmit=function(t){if("end"!==t.eventType){var e=t.scale;if(1!==e){var n=e>this._prevScale?"out":"in";this.emit(this.options.name+n,t)}this._prevScale=e}},n.prototype.test=function(t){var e=t.pointLength,n=t.scale;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(n-1)||this.isRecognized)},n.DEFAULT_OPTIONS={name:"pinch",threshold:0,pointLength:2},n}(k),W=function(t){function n(e){return void 0===e&&(e={}),t.call(this,e)||this}return e(n,t),n.prototype.getTouchAction=function(){return["none"]},n.prototype.afterEmit=function(t){},n.prototype.test=function(t){var e=t.pointLength,n=t.angle;return this.isValidPointLength(e)&&(this.options.threshold<Math.abs(n)||this.isRecognized)},n.DEFAULT_OPTIONS={name:"rotate",threshold:0,pointLength:2},n}(k),G=function(){function t(t,e){this.default={touchAction:"compute",hasDomEvents:!0,isPreventDefault:!0,syncToAttr:!1,cssPrevent:{selectText:!0,drag:!0,tapHighlight:!0,callout:!0}},void 0!==t&&(this.el=t),this.$store=new z,this.inputManage=new Y({$store:this.$store}),this.touchDevice=p?"touch":"mouse",this.options=n({},this.default,e),this.eventEmitter=new c,this._isStopped=!1,this.recognizers=[(new W).$injectRoot(this),(new H).$injectRoot(this),(new B).$injectRoot(this),(new U).$injectRoot(this),(new C).$injectRoot(this),new C({name:"doubletap",pointLength:1,tapTimes:2,disabled:!0}).$injectRoot(this),(new N).$injectRoot(this)],this.recognizers[4].requireFailure(this.recognizers[5]),void 0!==this.el&&(this.update(),this._unbindEl=this._bindEL(this.el)._unbindEl)}return t.prototype.updateTouchAction=function(){var t,e;if("compute"===this.options.touchAction){var n=[];try{for(var o=i(this.recognizers),s=o.next();!s.done;s=o.next()){var a=s.value;n.push.apply(n,r(a.getTouchAction()))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.el.style.touchAction=function(t){var e,n,o={auto:0,manipulation:1,"pan-x":2,"pan-y":2,none:3},r=o.none,s=["auto"],a=0;try{for(var u=i(t),c=u.next();!c.done;c=u.next()){var p=c.value,l=o[p];if(r===l){s=[p];break}a<l?(s=[p],a=l):a===l&&0<l&&(s.push(p),a=l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s.join(" ")}(n)}else this.el.style.touchAction=this.options.touchAction||"auto"},t.prototype.updateCssPrevent=function(){var t={},e=this.options.cssPrevent;if(void 0!==e)for(var n in e.selectText&&(t.mozUserSelect=v,t.userSelect=v,t.msUserSelect=v,t.webkitUserSelect=v,t.msTouchSelect=v),e.drag&&(t.webkitUserDrag=v),e.tapHighlight&&(t.webkitTapHighlightColor="rgba(0,0,0,0)"),e.callout&&(t.webkitTouchCallout=v),t)this.el.style[n]=t[n]},t.prototype.update=function(){void 0!==this.el&&(this.updateTouchAction(),this.updateCssPrevent())},t.prototype._bindEL=function(t){var e=this.inputListener.bind(this);if("touch"===this.touchDevice){var n=["touchstart","touchmove","touchend","touchcancel"];return n.forEach(function(n){t.addEventListener(n,e)}),{_unbindEl:function(){n.forEach(function(n){t.removeEventListener(n,e)})}}}return t.addEventListener("mousedown",e),window.addEventListener("mousemove",e),window.addEventListener("mouseup",e),{_unbindEl:function(){t.removeEventListener("mousedown",e),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",e)}}},t.prototype.useEvent=function(t){this.inputListener(t)},t.prototype.add=function(t){t.$injectRoot(this),this.recognizers.some(function(e){return t.name===e.name})?this.eventEmitter.emit("error",{code:1,message:t.name+"识别器已经存在!"}):(this.recognizers.push(t),this.update())},t.prototype.get=function(t){return this.recognizers.find(function(e){return t===e.options.name})},t.prototype.set=function(t){this.options=n({},this.default,t),this.update()},t.prototype.stop=function(){this._isStopped=!0},t.prototype.remove=function(t){var e,n;try{for(var r=i(this.recognizers.entries()),s=r.next();!s.done;s=r.next()){var a=o(s.value,2),u=a[0];if(t===a[1].options.name){this.recognizers.splice(u,1);break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.inputListener=function(t){var e,n;this.options.isPreventDefault&&t.preventDefault();var o=this.inputManage.load(t);if(void 0!==o){this.emit("input",o),o.isStart&&(this._isStopped=!1);try{for(var r=i(this.recognizers),s=r.next();!s.done;s=r.next()){var a=s.value;if(!a.disabled&&(a.recognize(o),this._isStopped))break}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.on=function(t,e,n){void 0===n&&(n=!1),this.eventEmitter.on(t,e)},t.prototype.off=function(t,e){this.eventEmitter.off(t,e)},t.prototype.emit=function(t,e){this.eventEmitter.emit(t,n({},e,{type:t}))},t.prototype._unbindEl=function(){},t.prototype.destroy=function(){this.$store.destroy(),this.el&&this._unbindEl(),this.eventEmitter.destroy()},t.Tap=C,t.Press=N,t.Pan=B,t.Swipe=U,t.Pinch=H,t.Rotate=W,t.version="0.4.6",t.Vector=E,t.EventEmitter=c,t}(),J=new(function(){function t(t){this.stock=[],this.stock=[],this.ClassObject=t}return t.prototype.getIndexByEl=function(t){for(var e=0,n=this.stock.length;e<n;e++)if(t===this.stock[e].el)return e;return-1},t.prototype.getInstanceByIndex=function(t){return this.stock[t].instance},t.prototype.removeInstanceByIndex=function(t){this.stock.splice(t,1)},t.prototype.getOrCreateInstanceByEl=function(t){var e=this.getIndexByEl(t);if(-1===e){var n=new this.ClassObject(t);return this.stock.push({el:t,instance:n}),n}return this.getInstanceByIndex(e)},t}())(G),K={install:function(t){var e=function(t,e){var n=J.getOrCreateInstanceByEl(t);void 0!==e.value&&e.value(n)};t.directive("touch",{inserted:function(t,n){e(t,n)},update:function(t,n){e(t,n)},unbind:function(t){!function(t){var e=J.getIndexByEl(t);-1!==e&&void 0!==J.getInstanceByIndex(e)&&(J.getInstanceByIndex(e).destroy(),J.removeInstanceByIndex(e))}(t)}})}};return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.vTouch=K,n}(G)});
//# sourceMappingURL=AnyTouch.umd.min.js.map
